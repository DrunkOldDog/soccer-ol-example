[{"/Users/juanireyes/Documents/Trabajo/soccer-ol-example/src/index.tsx":"1","/Users/juanireyes/Documents/Trabajo/soccer-ol-example/src/reportWebVitals.ts":"2","/Users/juanireyes/Documents/Trabajo/soccer-ol-example/src/App.tsx":"3","/Users/juanireyes/Documents/Trabajo/soccer-ol-example/src/components/Shared/Navbar/Navbar.tsx":"4","/Users/juanireyes/Documents/Trabajo/soccer-ol-example/src/components/Field/Field.tsx":"5","/Users/juanireyes/Documents/Trabajo/soccer-ol-example/src/components/Table/Table.tsx":"6","/Users/juanireyes/Documents/Trabajo/soccer-ol-example/src/common/dummy/dummies.js":"7","/Users/juanireyes/Documents/Trabajo/soccer-ol-example/src/components/Field/ImageMap.tsx":"8","/Users/juanireyes/Documents/Trabajo/soccer-ol-example/src/components/Field/fieldUtils/mapStyles.ts":"9","/Users/juanireyes/Documents/Trabajo/soccer-ol-example/src/common/helpers/constants.ts":"10"},{"size":501,"mtime":1606861543621,"results":"11","hashOfConfig":"12"},{"size":425,"mtime":1606861459012,"results":"13","hashOfConfig":"12"},{"size":979,"mtime":1607048393105,"results":"14","hashOfConfig":"12"},{"size":277,"mtime":1606875170668,"results":"15","hashOfConfig":"12"},{"size":4627,"mtime":1607048393105,"results":"16","hashOfConfig":"12"},{"size":875,"mtime":1606875152830,"results":"17","hashOfConfig":"12"},{"size":1429,"mtime":1607041435212,"results":"18","hashOfConfig":"12"},{"size":1945,"mtime":1607040565897,"results":"19","hashOfConfig":"12"},{"size":1620,"mtime":1606968326259,"results":"20","hashOfConfig":"12"},{"size":73,"mtime":1607042550478,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"17i9xo",{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33","usedDeprecatedRules":"24"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"/Users/juanireyes/Documents/Trabajo/soccer-ol-example/src/index.tsx",[],["44","45"],"/Users/juanireyes/Documents/Trabajo/soccer-ol-example/src/reportWebVitals.ts",[],"/Users/juanireyes/Documents/Trabajo/soccer-ol-example/src/App.tsx",[],"/Users/juanireyes/Documents/Trabajo/soccer-ol-example/src/components/Shared/Navbar/Navbar.tsx",[],"/Users/juanireyes/Documents/Trabajo/soccer-ol-example/src/components/Field/Field.tsx",["46","47"],"import React, { useCallback, useEffect, useState } from 'react';\nimport ImageMap from './ImageMap';\nimport './field-styles.scss';\nimport ImageLayer from 'ol/layer/Image';\nimport ImageCanvasSource from 'ol/source/ImageCanvas';\nimport { Map } from 'ol';\nimport { Extent } from 'ol/extent';\nimport Projection from 'ol/proj/Projection';\nimport imagePath from './field.jpg';\nimport { toContext } from 'ol/render';\nimport { drawPlayer, drawPlayerJersey } from './fieldUtils/mapStyles';\nimport CanvasImmediateRenderer from 'ol/render/canvas/Immediate';\nimport { dummyPlayers } from '../../common/dummy/dummies';\n\nconst getMapDeltaCoordinates = (field : Map, canvasExtent : Extent) => {\n  const mapExtent = field.getView().calculateExtent(field.getSize());\n  const canvasOrigin = field.getPixelFromCoordinate([canvasExtent[0], canvasExtent[3]]);\n  const mapOrigin = field.getPixelFromCoordinate([mapExtent[0], mapExtent[3]]);\n  return [mapOrigin[0] - canvasOrigin[0], mapOrigin[1] - canvasOrigin[1]];\n}\n\nexport const Field = () => {\n  const [field, setField] = useState<Map>();\n  const [dimensions, setDimensions] = useState<any>();\n\n  const getImageDimensions = () => {\n    return new Promise((resolved, rejected) => {\n      const img = new Image();\n      img.onload = () => {\n        const { width, height } = img;\n        resolved([width, height]);\n      };\n      img.src = imagePath;\n    });\n  }\n  \n  useEffect(() => {\n    (async function loadImageDimensions() {\n      const dimensions = await getImageDimensions();\n      setDimensions(dimensions);\n    })();\n  }, []);\n\n  const addFieldInCanvas = useCallback(() => {\n    const canvasLayer = new ImageLayer({\n      source: new ImageCanvasSource({\n        canvasFunction: canvasFunction as any,\n        projection: field?.getView().getProjection()\n      })\n    });\n    canvasLayer.setZIndex(10);\n    field?.addLayer(canvasLayer);\n  }, [field])\n\n  const canvasFunction = (extent : Extent, resolution : number, pixelRatio : number, size : Array<string>, projection : Projection) => {\n    const [width, height] = size;\n    const canvas = document.createElement('canvas');\n    canvas.setAttribute('width', width);\n    canvas.setAttribute('height', height);\n\n    const ctx = canvas.getContext('2d') as CanvasRenderingContext2D;\n    const toCtx = toContext(ctx, { size: [parseInt(width), parseInt(height)], pixelRatio });\n\n    drawCanvasFeatures(toCtx, extent);\n\n    return canvas;\n  }\n\n  const drawCanvasFeatures = (toCtx : CanvasImmediateRenderer, extent: Extent) => {\n    const [xDelta, yDelta] = getMapDeltaCoordinates(field as Map, extent);\n    dummyPlayers.forEach(player => {\n      const { position, color, playerNumber } = player;\n      const [xPixelPos, yPixelPos] = field?.getPixelFromCoordinate(position) as Array<number>;\n      const [xPlayerPos, yPlayerPos] = [xPixelPos + xDelta, yPixelPos + yDelta];\n      drawPlayer(toCtx, color, xPlayerPos, yPlayerPos);\n      drawPlayerJersey(toCtx, xPlayerPos, yPlayerPos, playerNumber.toString());\n    });\n  }\n\n  useEffect(() => {\n    if (field) {\n      addFieldInCanvas();\n    }\n  }, [field, addFieldInCanvas]);\n\n  return (\n    <div className=\"field-body\">\n      <ImageMap \n        setField={setField}\n        dimensions={dimensions}\n      />\n    </div>\n  )\n}\n","/Users/juanireyes/Documents/Trabajo/soccer-ol-example/src/components/Table/Table.tsx",[],"/Users/juanireyes/Documents/Trabajo/soccer-ol-example/src/common/dummy/dummies.js",[],"/Users/juanireyes/Documents/Trabajo/soccer-ol-example/src/components/Field/ImageMap.tsx",[],"/Users/juanireyes/Documents/Trabajo/soccer-ol-example/src/components/Field/fieldUtils/mapStyles.ts",[],"/Users/juanireyes/Documents/Trabajo/soccer-ol-example/src/common/helpers/constants.ts",[],{"ruleId":"48","replacedBy":"49"},{"ruleId":"50","replacedBy":"51"},{"ruleId":"52","severity":1,"message":"53","line":67,"column":6,"nodeType":"54","endLine":67,"endColumn":19,"suggestions":"55"},{"ruleId":"52","severity":1,"message":"56","line":96,"column":6,"nodeType":"54","endLine":96,"endColumn":13,"suggestions":"57"},"no-native-reassign",["58"],"no-negated-in-lhs",["59"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'makePlayersRun'. Either include it or remove the dependency array.","ArrayExpression",["60"],"React Hook useCallback has a missing dependency: 'canvasFunction'. Either include it or remove the dependency array.",["61"],"no-global-assign","no-unsafe-negation",{"desc":"62","fix":"63"},{"desc":"64","fix":"65"},"Update the dependencies array to be: [play, field, makePlayersRun]",{"range":"66","text":"67"},"Update the dependencies array to be: [canvasFunction, field]",{"range":"68","text":"69"},[2443,2456],"[play, field, makePlayersRun]",[3213,3220],"[canvasFunction, field]"]